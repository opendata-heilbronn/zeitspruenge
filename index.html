<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://domoritz.github.io/leaflet-locatecontrol/dist/L.Control.Locate.min.css" />
    <script src="https://domoritz.github.io/leaflet-locatecontrol/dist/L.Control.Locate.min.js" charset="utf-8"></script>
    <title>Zeitsprünge</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
        }

        #map {
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>
<div id="map"></div>

<script>
    var map = L.map('map').setView([49.14224635671938, 9.218666553497314], 16);

    var locations = {
        "type": "FeatureCollection",
        "features": [
            {
                "type": "Feature",
                "properties": {
                    "Anker": "http://heilbronn.apps-1and1.net/allee",
                    "Bild-URL": "",
                    "Bild-URL 2": "",
                    "Strasse": "Allee",
                    "Ort": "Heilbronn",
                    "Beschreibung": "Kapitel Allee",
                    "Blickrichtung": "",
                    "Position Laengengrad": "9,22208",
                    "Position Breitengrad": "49,14126"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [
                        9.22208,
                        49.14126
                    ]
                }
            },
            {
                "type": "Feature",
                "properties": {
                    "Anker": "http://heilbronn.apps-1and1.net/bahnhof",
                    "Bild-URL": "",
                    "Bild-URL 2": "",
                    "Strasse": "",
                    "Ort": "Heilbronn",
                    "Beschreibung": "Kapitel Bahnhofsgegend",
                    "Blickrichtung": "",
                    "Position Laengengrad": "9,20892",
                    "Position Breitengrad": "49,14252"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [
                        9.20892,
                        49.14252
                    ]
                }
            },
            {
                "type": "Feature",
                "properties": {
                    "Anker": "http://heilbronn.apps-1and1.net/fleiner",
                    "Bild-URL": "",
                    "Bild-URL 2": "",
                    "Strasse": "Fleinerstr",
                    "Ort": "Heilbronn",
                    "Beschreibung": "Kapitel Fleinerstrasse",
                    "Blickrichtung": "",
                    "Position Laengengrad": "9,21912",
                    "Position Breitengrad": "49,14084"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [
                        9.21912,
                        49.14084
                    ]
                }
            },
            {
                "type": "Feature",
                "properties": {
                    "Anker": "http://heilbronn.apps-1and1.net/kilianskirche",
                    "Bild-URL": "",
                    "Bild-URL 2": "",
                    "Strasse": "",
                    "Ort": "Heilbronn",
                    "Beschreibung": "Kapitel Kilianskirche",
                    "Blickrichtung": "",
                    "Position Laengengrad": "9,21944",
                    "Position Breitengrad": "49,14171"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [
                        9.21944,
                        49.14171
                    ]
                }
            },
            {
                "type": "Feature",
                "properties": {
                    "Anker": "http://heilbronn.apps-1and1.net/kiliansplatz",
                    "Bild-URL": "",
                    "Bild-URL 2": "",
                    "Strasse": "Kiliansplatz",
                    "Ort": "Heilbronn",
                    "Beschreibung": "Kapitel Kiliansplatz",
                    "Blickrichtung": "",
                    "Position Laengengrad": "9,21977",
                    "Position Breitengrad": "49,14129"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [
                        9.21977,
                        49.14129
                    ]
                }
            },
            {
                "type": "Feature",
                "properties": {
                    "Anker": "http://heilbronn.apps-1and1.net/marktplatz",
                    "Bild-URL": "",
                    "Bild-URL 2": "",
                    "Strasse": "Marktplatz",
                    "Ort": "Heilbronn",
                    "Beschreibung": "Kapitel Marktplatz",
                    "Blickrichtung": "",
                    "Position Laengengrad": "9,21866",
                    "Position Breitengrad": "49,14225"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [
                        9.21866,
                        49.14225
                    ]
                }
            },
            {
                "type": "Feature",
                "properties": {
                    "Anker": "http://heilbronn.apps-1and1.net/neckarufer",
                    "Bild-URL": "",
                    "Bild-URL 2": "",
                    "Strasse": "",
                    "Ort": "Heilbronn",
                    "Beschreibung": "Kapitel Neckarufer",
                    "Blickrichtung": "",
                    "Position Laengengrad": "9,21463",
                    "Position Breitengrad": "49,14123"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [
                        9.21463,
                        49.14123
                    ]
                }
            },
            {
                "type": "Feature",
                "properties": {
                    "Anker": "http://heilbronn.apps-1and1.net/kaiserstrasse",
                    "Bild-URL": "",
                    "Bild-URL 2": "",
                    "Strasse": "Kaiserstrasse",
                    "Ort": "Heilbronn",
                    "Beschreibung": "Kapitel obere Kaiserstrasse",
                    "Blickrichtung": "",
                    "Position Laengengrad": "9,22113",
                    "Position Breitengrad": "49,14171"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [
                        9.22113,
                        49.14171
                    ]
                }
            },
            {
                "type": "Feature",
                "properties": {
                    "Anker": "http://heilbronn.apps-1and1.net/sulmerstrasse",
                    "Bild-URL": "",
                    "Bild-URL 2": "",
                    "Strasse": "Sülmerstr",
                    "Ort": "Heilbronn",
                    "Beschreibung": "Kapitel Sülmerstrasse",
                    "Blickrichtung": "",
                    "Position Laengengrad": "9,22075",
                    "Position Breitengrad": "49,14350"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [
                        9.22075,
                        49.1435
                    ]
                }
            },
            {
                "type": "Feature",
                "properties": {
                    "Anker": "http://heilbronn.apps-1and1.net/untere-kaiserstrasse",
                    "Bild-URL": "",
                    "Bild-URL 2": "",
                    "Strasse": "Kaiserstrasse",
                    "Ort": "Heilbronn",
                    "Beschreibung": "Kapitel untere Kaiserstrasse",
                    "Blickrichtung": "",
                    "Position Laengengrad": "9,21697",
                    "Position Breitengrad": "49,14221"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [
                        9.21697,
                        49.14221
                    ]
                }
            }
        ]
    };

    L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
        maxZoom: 18,
        attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
        '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
        'Imagery © <a href="http://mapbox.com">Mapbox</a>',
        id: 'mapbox.light'
    }).addTo(map);

    function onEachFeature(feature, layer) {
        var popupContent = "<p>" + feature.properties['Strasse'] + '</p><p>' + feature.properties['Beschreibung'] + "</p>";
        if(feature.properties['Anker']) {
            popupContent = '<a href="' + feature.properties['Anker'] + '">' + popupContent + '</a>';
        }
        layer.bindPopup(popupContent, {
            maxWidth: 600
        });
    }

    L.geoJSON([locations], {
        style: function (feature) {
            return feature.properties && feature.properties.style;
        },

        onEachFeature: onEachFeature,

        pointToLayer: function (feature, latlng) {
            return L.circleMarker(latlng, {
                radius: 8,
                fillColor: "#ff7800",
                color: "#000",
                weight: 1,
                opacity: 1,
                fillOpacity: 0.8
            });
        }
    }).addTo(map);

    L.control.locate().addTo(map);
</script>

</body>
</html>